@using WaterResource.Service;
@{
    UserRightService _service = new UserRightService();
}
<div class="col-md-12 row mt-4 mx-0 p-0 justify-content-between position-relative">
    <div class="col-12 p-0 row m-0">
        <div class="col-12 col-md-12 p-0">
            <div class="row mx-0 justify-content-end align-items-center">
                <div class="col-12 col-md-2 p-2">
                    <div class="floating-label w-100">
                        <input readonly class="floating-input w-100" type="text" data-toggle="dropdown" placeholder=" " ng-model="TypeOfConstructionFilter" value="{{ TypeOfConstructionFilter }}">
                        <ul class="dropdown-menu w-100" role="menu">
                            <li role="option" class="border-bottom border-secondary m-0 p-1">
                                <a href="javascript:void(0)" class="m-0" ng-click="filterConsByType(0, 'Chọn loại CT')">
                                    <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn loại CT</p>
                                </a>
                            </li>
                            <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat="e in TypeOfConstructions">
                                <a href="javascript:void(0)" class="m-0" ng-click="filterConsByType(e.Id, e.TypeName)">
                                    <p class="m-0 text-primary" style="font-size: 0.85rem" ng-bind="e.TypeName"></p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-12 col-md-2 p-2">
                    <div class="floating-label w-100">
                        <input readonly class="floating-input w-100" type="text" data-toggle="dropdown" placeholder=" " ng-model="LicensingAuthoritiesFilter">
                        <ul class="dropdown-menu w-100" role="menu">
                            <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat="e in ListLicensingAuthorities">
                                <a href="javascript:void(0)" class="m-0" ng-click="filterConsByLicensingAuthorities(e.Id, e.Name)">
                                    <p class="m-0 text-primary" style="font-size: 0.85rem" ng-bind="e.Name"></p>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-12 col-md-auto p-2 d-flex align-items-center">
                    <button class="btn btn-sm font-10 btn-outline-secondary rounded-0 px-4" title="Bộ lọc nâng cao" ng-click="ShowAdvanceSearch()">
                        <i class="fa-solid fa fa-fw fa-filter"></i> Bộ lọc
                    </button>
                </div>
                <div class="col-12 col-md-auto p-2 d-flex align-items-center">
                    <button class="btn btn-sm font-10 btn-addnew px-4" ng-click="Search()">
                        <i class="fa-solid fa-magnifying-glass"></i> Tìm kiếm
                    </button>
                </div>
                <div class="col-12 col-md-auto p-2 d-flex align-items-center">
                    <button class="btn btn-sm font-10 btn-outline-success rounded-0 px-4" title="Xuất file excel" ng-click="exportToExcel('#excel-export')">
                        <i class="fa-solid fa-file-excel"></i> Xuất excel
                    </button>
                </div>
                @if (_service.IsViewAction("/cong-trinh", User.Identity.Name, "Add"))
                {
                    <div class="col-12 col-md-auto p-2 d-flex align-items-center">
                        <button type="button" class="btn btn-sm font-10 btn-addnew px-4" ng-click="AddDataCons('formCreateCons')">
                            <i class="fa-solid fa-plus"></i> Thêm mới
                        </button>
                    </div>
                }
                <fieldset ng-if="AdvanceSearch" class="col-12 border border-secondary p-2 mb-2 background-color bg-lightgray">
                    <legend class="font-14 text-primary" style="width: auto">Tìm kiếm nâng cao </legend>
                    <div class="row m-0">
                        <div class="col-12 col-md-3 p-2">
                            <div class="floating-label w-100">
                                <input readonly class="floating-input w-100" type="text" data-toggle="dropdown" placeholder=" " ng-model="DistrictFilter">
                                <ul class="dropdown-menu w-100" role="menu">
                                    <li role="option" class="border-bottom border-secondary m-0 p-1">
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByDistrict(0, 'Chọn huyện')">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn huyện</p>
                                        </a>
                                    </li>
                                    <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat="e in Districts">
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByDistrict(e.Id, e.DistrictName)">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem" ng-bind="e.DistrictName"></p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!--
                            <div ng-if="ShowAquifer" class="col-12 col-md-3 p-2">
                                <div class="floating-label w-100">
                                    <input readonly class="floating-input w-100" type="text" data-toggle="dropdown" placeholder=" " ng-model="AquiferFilter">
                                    <ul class="dropdown-menu w-100" role="menu">
                                        <li role="option" class="border-bottom border-secondary m-0 p-1">
                                            <a href="javascript:void(0)" class="m-0" ng-click="filterConsByAquifer(0, 'Chọn tầng chứa nước')">
                                                <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn tầng chứa nước</p>
                                            </a>
                                        </li>
                                        <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat="e in AllAquifers">
                                            <a href="javascript:void(0)" class="m-0" ng-click="filterConsByAquifer(e.Id, e.Name)">
                                                <p class="m-0 text-primary" style="font-size: 0.85rem" ng-bind="e.Name"></p>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        -->
                        <div class="col-12 col-md-3 p-2">
                            <div class="floating-label w-100">
                                <input readonly class="floating-input w-100" type="text" data-toggle="dropdown" placeholder=" " ng-model="BasinFilter">
                                <ul class="dropdown-menu w-100" role="menu">
                                    <li role="option" class="border-bottom border-secondary m-0 p-1">
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByBasin(0, 'Chọn tiểu vùng quy hoạch')">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn tiểu vùng quy hoạch</p>
                                        </a>
                                    </li>
                                    <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat="e in Basins">
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByBasin(e.Id, e.Name)">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem" ng-bind="e.Name"></p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-12 col-md-3 p-2">
                            <div class="floating-label w-100">
                                <input class="floating-input w-100" type="text" id="LicenseFilter" data-toggle="dropdown" placeholder="Nhập số GP" ng-model="LicenseFilter">
                                <ul class="dropdown-menu w-100" role="menu">
                                    <li role="option" class="border-bottom border-secondary m-0 p-1">
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByLicense(0,'LicenseFilter')">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn tất cả</p>
                                        </a>
                                    </li>
                                    <li role="option" class="border-bottom border-secondary m-0 p-1" ng-repeat='i in Licenses | filter:LicenseFilter'>
                                        <a href="javascript:void(0)" class="m-0" ng-click="filterConsByLicense(i,'LicenseFilter')">
                                            <p class="m-0 text-primary" style="font-size: 0.85rem">{{i.LicenseNumber}}</p>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!--
                            <div class="col-12 col-md-3 p-2">
                                <div class="floating-label w-100">
                                    <input class="floating-input w-100" type="text" data-toggle="dropdown" placeholder="Nhập tên chủ CT" ng-model="LicenseHolderFilter">
                                    <ul class="dropdown-menu w-100" role="menu">
                                        <li class="border-bottom border-secondary m-0 p-1">
                                            <a href="javascript:void(0)" class="m-0" ng-click="filterConsByBusiness(0)">
                                                <p class="m-0 text-primary" style="font-size: 0.85rem">Chọn tất cả</p>
                                            </a>
                                        </li>
                                        <li class="border-bottom border-secondary m-0 p-1" ng-repeat='i in Business | filter:LicenseHolderFilter'>
                                            <a href="javascript:void(0)" class="m-0" ng-click="filterConsByBusiness(i)">
                                                <p class="m-0 text-primary" style="font-size: 0.85rem">{{i.Name}}</p>
                                                <p class="m-0 text-muted" style="font-size: 0.75rem">{{i.Address}}</p>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        -->
                        <div class="col-12 col-md-3 p-2">
                            <div class="floating-label w-100">
                                <input class="floating-input w-100" type="text" placeholder="Nhập tên công trình" ng-change="SetKeyword(Keyword)" ng-model="Keyword">
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>
