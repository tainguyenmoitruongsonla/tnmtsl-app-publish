@Html.Partial("_Redirect")
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title</title>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

    <!--Angular asset-->
    <script src='~/Assets/AppResource/angular182/angular.min.js'></script>
    <script src='~/Assets/AppResource/angular182/angular-animate.min.js'></script>
    <script src="~/Assets/AppResource/angular182/angular-sanitize.min.js"></script>
    <script src="~/Assets/AppResource/ui-bootstrap-tpls-2.5.0.js"></script>
    <script src="~/Assets/AppResource/angular-toastr.tpls.js"></script>
    <link href="~/Assets/AppResource/angular-toastr.css" rel="stylesheet" />
    <!--Date time picker-->
    <!--<link rel="stylesheet" href="~/Assets/AppResource/datepicker/angularjs-datetime-picker.css" />
    <script src="~/Assets/AppResource/datepicker/angularjs-datetime-picker.js"></script>-->

    <script src="~/Scripts/Module.js"></script>

    <script src="~/Assets/AppResource/FileUpload/ng-file-upload-shim.js"></script>
    <script src="~/Assets/AppResource/FileUpload/ng-file-upload.js"></script>

    <link rel="stylesheet" type="text/css" href="~/Assets/AppResource/blockUI/angular-block-ui.css">
    <script type="text/javascript" src="~/Assets/AppResource/blockUI/angular-block-ui.js"></script>
    <!--/Angular asset-->
    <!--Begin Admin LTE-->
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/Assets/Theme/bower_components/fontawesome/css/all.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="~/Assets/Theme/bower_components/Ionicons/css/ionicons.min.css">
    <!-- daterange picker -->
    <link rel="stylesheet" href="~/Assets/Theme/bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap datepicker -->
    <link rel="stylesheet" href="~/Assets/Theme/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">

    <!-- Select2 -->
    <link rel="stylesheet" href="~/Assets/Theme/bower_components/select2/dist/css/select2.min.css">

    <!-- Theme style -->
    <link rel="stylesheet" href="~/Assets/Theme/dist/css/AdminLTE.min.css">
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect. -->
    <link rel="stylesheet" href="~/Assets/Theme/dist/css/skins/_all-skins.min.css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Google Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <!--End Admin LTE-->

    <link href="~/Content/Site.css" rel="stylesheet" />
    <script src="~/Assets/AppResource/apexcharts-bundle/dist/apexcharts.min.js"></script>
</head>
<body class="hold-transition skin-blue sidebar-collapse- " ng-app="myApp">
    @Scripts.Render("~/bundles/jquery")
    @*@Scripts.Render("~/bundles/bootstrap")*@
    @Scripts.Render("~/bundles/modernizr")
    @RenderSection("scripts", required: false)
    <div class="wrapper">

        @Html.Partial("_Header")

        @if (Request.IsAuthenticated)
        {
            @Html.Partial("_AsideLeft")
        }
        <div class="content-wrapper">
            @RenderBody()
        </div>
        @*@Html.Partial("_Footer")*@
        @if (Request.IsAuthenticated)
        {
            @Html.Partial("_ControlSideBar")
        }

        <div class="control-sidebar-bg"></div>
    </div>
    <footer>
        <!-- Select2 -->
        <script src="~/Assets/Theme/bower_components/select2/dist/js/select2.full.min.js"></script>
        <!-- InputMask -->
        <script src="~/Assets/Theme/plugins/input-mask/jquery.inputmask.js"></script>
        <script src="~/Assets/Theme/plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
        <script src="~/Assets/Theme/plugins/input-mask/jquery.inputmask.extensions.js"></script>
        <!-- date-range-picker -->
        <script src="~/Assets/Theme/bower_components/moment/min/moment.min.js"></script>
        <script src="~/Assets/Theme/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
        <!-- bootstrap datepicker -->
        <script src="~/Assets/Theme/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
        <script src="~/Assets/Theme/bower_components/bootstrap-datepicker/dist/locales/bootstrap-datepicker.vi.min.js" charset="UTF-8"></script>

        <!-- bootstrap color picker -->
        <script src="~/Assets/Theme/bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
        <!-- bootstrap time picker -->
        <script src="~/Assets/Theme/plugins/timepicker/bootstrap-timepicker.min.js"></script>
        <!-- SlimScroll -->
        <script src="~/Assets/Theme/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
        <!-- iCheck 1.0.1 -->
        <script src="~/Assets/Theme/plugins/iCheck/icheck.min.js"></script>
        <!-- AdminLTE App -->
        <script src="~/Assets/Theme/dist/js/adminlte.min.js"></script>

        <script src="~/Scripts/jquery.signalR-2.4.3.min.js"></script>
        <script src="~/signalr/hubs"></script>
        <!-- Page script -->
        <script>

            $(function () {
                $('#Notification').hide();
                var Notification = $.connection.Notification;
                Notification.client.Send = function (Status) {
                    if (Status == true)
                        $('#Notification').show();
                    else
                        $('#Notification').hide();
                };

                $.connection.hub.start().done(function () {
                    $('#NotificationParent').click(function () {
                        Notification.server.markReadNotification();
                    });
                });
            });
            $(function () {
                //Initialize Select2 Elements
                $('.select2').select2()

                //Datemask dd/mm/yyyy
                $('#datemask').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                //$('#id_number_date_of_expire').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                $('#military_service_reg_date').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                //$('#group_admission_date').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                //$('#communist_admission_date').inputmask('dd/mm/yyyy', { 'placeholder': 'dd/mm/yyyy' })
                //Datemask2 mm/dd/yyyy
                $('#datemask2').inputmask('mm/dd/yyyy', { 'placeholder': 'mm/dd/yyyy' })
                //Money Euro
                $('[data-mask]').inputmask()

                //Date range picker
                $('#reservation').daterangepicker()
                //Date range picker with time picker
                $('#reservationtime').daterangepicker({ timePicker: true, timePickerIncrement: 30, format: 'MM/DD/YYYY h:mm A' })
                //Date range as a button
                $('#daterange-btn').daterangepicker(
                    {
                        ranges: {
                            'Today': [moment(), moment()],
                            'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                            'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                            'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                            'This Month': [moment().startOf('month'), moment().endOf('month')],
                            'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                        },
                        startDate: moment().subtract(29, 'days'),
                        endDate: moment()
                    },
                    function (start, end) {
                        $('#daterange-btn span').html(start.format('MMMM D, YYYY') + ' - ' + end.format('MMMM D, YYYY'))
                    }
                )
                //iCheck for checkbox and radio inputs
                $('input[type="checkbox"].minimal, input[type="radio"].minimal').iCheck({
                    checkboxClass: 'icheckbox_minimal-blue',
                    radioClass: 'iradio_minimal-blue'
                })
                //Red color scheme for iCheck
                $('input[type="checkbox"].minimal-red, input[type="radio"].minimal-red').iCheck({
                    checkboxClass: 'icheckbox_minimal-red',
                    radioClass: 'iradio_minimal-red'
                })
                //Flat red color scheme for iCheck
                $('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({
                    checkboxClass: 'icheckbox_flat-green',
                    radioClass: 'iradio_flat-green'
                })

                //Colorpicker
                $('.my-colorpicker1').colorpicker()
                //color picker with addon
                $('.my-colorpicker2').colorpicker()

                //Timepicker
                $('.timepicker').timepicker({
                    showInputs: false
                })

                //Date picker

                $('.datepicker').datepicker({
                    autoclose: true, format: 'dd/mm/yyyy', language: 'vi'
                })
            });
            /** add active class and stay opened when selected */
            let origin = window.location.origin;
            let path = window.location.pathname;
            if (path[path.length - 1] == "/" || path[path.length - 1] == "#")
                path = path.slice(0, -1);
            var url = origin + path;
            // for sidebar menu entirely but not cover treeview
            $('ul.nav-sidebar a').filter(function () {
                return this.href == url;
            }).addClass('active');

            // for treeview
            $('ul.nav-treeview a').filter(function () {
                return this.href == url;
            }).parentsUntil(".nav-sidebar > .nav-treeview").addClass('menu-open').prev('a').addClass('active');

            //calc total data in array, using in html file
            app.filter('sumOfValue', function () {
                return function (data, key) {
                    if (angular.isUndefined(data) || angular.isUndefined(key))
                        return 0;
                    var sum = 0;

                    angular.forEach(data, function (v, k) {
                        sum = sum + parseFloat(v[key]);
                    });
                    return sum;
                }
            });

            //angularjs fix datepicker not set modal
            app.directive('datepicker', function () {
                return {
                    restrict: 'A',
                    require: 'ngModel',
                    compile: function () {
                        return {
                            pre: function (scope, element, attrs, ngModelCtrl) {
                                var format, dateObj;
                                format = (!attrs.dpFormat) ? 'd/m/yyyy' : attrs.dpFormat;
                                if (!attrs.initDate && !attrs.dpFormat) {
                                    // If there is no initDate attribute than we will get todays date as the default
                                    dateObj = new Date();
                                    scope[attrs.ngModel] = dateObj.getDate() + '/' + (dateObj.getMonth() + 1) + '/' + dateObj.getFullYear();
                                } else if (!attrs.initDate) {
                                    // Otherwise set as the init date
                                    scope[attrs.ngModel] = attrs.initDate;
                                } else {
                                    // I could put some complex logic that changes the order of the date string I
                                    // create from the dateObj based on the format, but I'll leave that for now
                                    // Or I could switch case and limit the types of formats...
                                }
                                // Initialize the date-picker
                                $(element).datepicker({
                                    format: format,
                                }).on('changeDate', function (ev) {
                                    // To me this looks cleaner than adding $apply(); after everything.
                                    scope.$apply(function () {
                                        ngModelCtrl.$setViewValue(ev.format(format));
                                    });
                                });
                            }
                        }
                    }
                }
            });
            @*app.directive('datepicker', function () {
                return {
                    require: 'ngModel',
                    link: function (scope, element, attrs, modelCtrl) {
                        modelCtrl.$formatters.push(function (input) {
                            var options = { year: 'numeric', month: 'numeric', day: 'numeric' };
                            var transformedInput;
                            if (input) transformedInput = new Date(input).toLocaleDateString("vi-VN", options);
                            else transformedInput = new Date().toLocaleDateString("vi-VN", options);
                            if (transformedInput !== input) {
                                modelCtrl.$setViewValue(transformedInput);
                                modelCtrl.$render();
                            }
                            return transformedInput;
                        });
                    }
                };
            });*@
        </script>
    </footer>
</body>
</html>