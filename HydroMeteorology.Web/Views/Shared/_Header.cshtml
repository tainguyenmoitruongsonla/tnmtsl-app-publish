@using Microsoft.AspNet.Identity
@using HydroMeteorology.Web.Models
@using WaterResource.Service

@{
    UserRightService _service = new UserRightService();
}
<!-- Main Header -->
<nav class="main-header navbar navbar-expand">
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link text-white btn-toggle-aside" data-widget="pushmenu" href="javascript:void(0)"><i class="fa fa-bars"></i></a>
        </li>
        <li class="nav-item">
            <h5 class="nav-link text-white m-0 font-sm-14"> @ViewBag.Title </h5>
        </li>
    </ul>
    <ul class="navbar-nav ml-auto">
        <li class="dropdown user user-menu p-0 p-md-2">
            @if (Request.IsAuthenticated)
            {
                <a href="javascript:void(0)" class="dropdown-toggle d-flex center-center text-white" data-toggle="dropdown">
                    <!-- The user image in the navbar-->
                    <i class="fa-solid fa-user m-1"></i>
                    <!-- hidden-xs hides the username on small devices so only the image appears. -->
                    <span class="d-none d-sm-block">
                        Xin chào @User.Identity.GetUserName()!
                    </span>
                </a>
                <ul class="dropdown-menu p-2" style="right: 0 !important; left: unset;">
                    <!-- The user image in the menu -->
                    <li class="nav-item">
                        <a class="nav-link" href="/thong-tin-ca-nhan">Thông tin cá nhân</a>
                    </li>
                    <li class="nav-item">
                        @using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "nav-link p-0" }))
                        {
                            @Html.AntiForgeryToken() <!-- Menu Toggle Button -->
                            <a class="bg-danger nav-link" href="javascript:document.getElementById('logoutForm').submit()"> Đăng xuất </a>
                        }
                    </li>
                </ul>
            }
            else
            {
                <style>
                    .content-wrapper, .main-header {
                        margin-left: 0 !important;
                    }

                    .btn-toggle-aside {
                        display: none;
                    }
                </style>
            }
        </li>
    </ul>
</nav>

<script type="text/javascript">
    app = angular.module("myApp", ['ui.bootstrap', 'ngSanitize', 'toastr', 'blockUI']);
</script>
